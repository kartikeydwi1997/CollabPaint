<!DOCTYPE html>
<html lang="en">
<head>
        <title>TCPServer (server.TCPServer)</title>
	<meta charset="utf-8" />
	<meta content="width=device-width, initial-scale=1" name="viewport" />
        <link href="style.css" rel="stylesheet" />
        <script src="script.js" type="text/javascript"></script>

	
	<link href="search-results.html" rel="prefetch" />
</head>
<body>
	<div id="page-header">
		<div id="logotype">
		<span>Documentation</span>
		<nav>
			<a href="http://dlang.org/">Dlang.org</a>
		</nav>
		</div>

		<form action="search-docs.html" id="search">
			<input name="searchTerm" placeholder="Find a symbol name..." type="search" />
			<input type="submit" value="Go" />
		</form>
	</div>
	<div id="page-body">
		<div id="page-content">
		<h1>TCPServer</h1><div class="breadcrumbs"><a class="breadcrumb" href="server.html">server</a> </div><div><div class="documentation-comment synopsis"><div><p>The server will listen for connections from clients.
 When a client connects, the server will spawn a new thread
 to handle the client.
 The server will then listen for more connections.
 The server will also listen for data from clients.
 When data is received from a client, the server will
 broadcast that data to all other clients.
 The server will also listen for data from the GUI.
 When data is received from the GUI, the server will
 broadcast that data to all other clients.</p></div></div></div><div class="annotated-prototype"><div class="aggregate-prototype"><div class="attributes"></div><span class="builtin-type">class</span> TCPServer  {<div class="aggregate-member"><div class="attributes"></div><tt class="highlighted"><span class="hid">Gui</span></tt> <span class="name">myGui</span>;</div><div class="aggregate-member"><a href="server._T_C_P_Server.m_Listening_Socket.html"><div class="attributes"></div><tt class="highlighted"><span class="hid">Socket</span></tt> <span class="name">mListeningSocket</span>;</a></div><div class="aggregate-member"><a href="server._T_C_P_Server.m_Clients_Connected_To_Server.html"><div class="attributes"></div><tt class="highlighted"><span class="hid">Socket</span>[]</tt> <span class="name">mClientsConnectedToServer</span>;</a></div><div class="aggregate-member"><a href="server._T_C_P_Server.m_Server_Data.html"><div class="attributes"></div><tt class="highlighted"><span class="type">char</span>[<span class="hid">Packet</span>.<span class="hid">sizeof</span>][]</tt> <span class="name">mServerData</span>;</a></div><div class="aggregate-member"><a href="server._T_C_P_Server.m_Current_Message_To_Send.html"><div class="attributes"></div><tt class="highlighted"><span class="type">uint</span>[]</tt> <span class="name">mCurrentMessageToSend</span>;</a></div><div class="aggregate-member"><a href="server._T_C_P_Server.this.html"><span class="lang-feature name">this</span>(string host, ushort port, ushort maxConnectionsBacklog);</a></div><div class="aggregate-member"><a href="server._T_C_P_Server.~this.html"><span class="lang-feature name">~this</span>();</a></div><div class="aggregate-member"><a href="server._T_C_P_Server.attach_Gui.html"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">attachGui</span>(Gui myGui);</a></div><div class="aggregate-member"><a href="server._T_C_P_Server.store_Buffer.html"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">storeBuffer</span>(string filePath);</a></div><div class="aggregate-member"><a href="server._T_C_P_Server.load_Buffer.html"><tt class="highlighted"><span class="type">void</span>[]</tt> <span class="name">loadBuffer</span>(string filePath);</a></div><div class="aggregate-member"><a href="server._T_C_P_Server.set_Server_Data.html"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">setServerData</span>(char[Packet.sizeof][] bufferData);</a></div><div class="aggregate-member"><a href="server._T_C_P_Server.run.html"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">run</span>();</a></div><div class="aggregate-member"><a href="server._T_C_P_Server.client_Loop.html"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">clientLoop</span>(Socket clientSocket);</a></div><div class="aggregate-member"><a href="server._T_C_P_Server.save_Buffer.html"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">saveBuffer</span>();</a></div><div class="aggregate-member"><a href="server._T_C_P_Server.broadcast_To_All_Clients.html"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">broadcastToAllClients</span>();</a></div><div class="aggregate-member"><a href="server._T_C_P_Server.broadcast_Packet_To_All_Clients.html"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">broadcastPacketToAllClients</span>(char[] data);</a></div>}</div></div><h2 id="constructors"><a class="header-anchor" href="#constructors">Constructors</a></h2><dl class="member-list constructors"><dt><a href="server._T_C_P_Server.this.html">this</a><div class="simplified-prototype" style="max-width: 66ch;"><span class="lang-feature name">this</span>(string host, ushort port, ushort maxConnectionsBacklog)</div></dt><dd><div><p>Constructor
 By default I have choosen localhost and a port that is likely to
 be free.</p></div></dd></dl><h2 id="destructor"><a class="header-anchor" href="#destructor">Destructor</a></h2><dl class="member-list"><dt><a href="server._T_C_P_Server.~this.html">~this</a><div class="simplified-prototype" style="max-width: 7ch;"><span class="lang-feature name">~this</span>()</div></dt><dd><div><p>Destructor</p></div></dd></dl><h2 id="members"><a class="header-anchor" href="#members">Members</a></h2><h3 class="member-list-header hide-from-toc" id="function"><a class="header-anchor" href="#function">Functions</a></h3><dl class="member-list native"><dt><a href="server._T_C_P_Server.attach_Gui.html">attachGui</a><div class="simplified-prototype" style="max-width: 27ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">attachGui</span>(Gui myGui)</div></dt><dd><div><p>Attach the GUI to the server</p></div></dd><dt><a href="server._T_C_P_Server.broadcast_Packet_To_All_Clients.html">broadcastPacketToAllClients</a><div class="simplified-prototype" style="max-width: 49ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">broadcastPacketToAllClients</span>(char[] data)</div></dt><dd><div><p>The purpose of this function is to broadcast a packet to all the clients</p></div></dd><dt><a href="server._T_C_P_Server.broadcast_To_All_Clients.html">broadcastToAllClients</a><div class="simplified-prototype" style="max-width: 30ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">broadcastToAllClients</span>()</div></dt><dd><div><p>The purpose of this function is to broadcast
 messages to all of the clients that are currently
 connected.</p></div></dd><dt><a href="server._T_C_P_Server.client_Loop.html">clientLoop</a><div class="simplified-prototype" style="max-width: 39ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">clientLoop</span>(Socket clientSocket)</div></dt><dd><div><p>Function to spawn from a new thread for the client.
 The purpose is to listen for data sent from the client 
 and then rebroadcast that information to all other clients.
 NOTE: passing 'clientSocket' by value so it should be a copy of 
       the connection.</p></div></dd><dt><a href="server._T_C_P_Server.load_Buffer.html">loadBuffer</a><div class="simplified-prototype" style="max-width: 37ch;"><tt class="highlighted"><span class="type">void</span>[]</tt> <span class="name">loadBuffer</span>(string filePath)</div></dt><dd><div><p>load the buffer from a file</p></div></dd><dt><a href="server._T_C_P_Server.run.html">run</a><div class="simplified-prototype" style="max-width: 11ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">run</span>()</div></dt><dd><div><p>Call this after the server has been created
 to start running the server</p></div></dd><dt><a href="server._T_C_P_Server.save_Buffer.html">saveBuffer</a><div class="simplified-prototype" style="max-width: 18ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">saveBuffer</span>()</div></dt><dd><div><p>Function to store the buffer to a file.</p></div></dd><dt><a href="server._T_C_P_Server.set_Server_Data.html">setServerData</a><div class="simplified-prototype" style="max-width: 57ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">setServerData</span>(char[Packet.sizeof][] bufferData)</div></dt><dd><div><p>set the server data</p></div></dd><dt><a href="server._T_C_P_Server.store_Buffer.html">storeBuffer</a><div class="simplified-prototype" style="max-width: 36ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">storeBuffer</span>(string filePath)</div></dt><dd><div><p>write the buffer to a file</p></div></dd></dl><h3 class="member-list-header hide-from-toc" id="variable"><a class="header-anchor" href="#variable">Variables</a></h3><dl class="member-list native"><dt><a href="server._T_C_P_Server.m_Clients_Connected_To_Server.html">mClientsConnectedToServer</a><div class="simplified-prototype" style="max-width: 38ch;"><tt class="highlighted"><span class="hid">Socket</span>[]</tt> <span class="name">mClientsConnectedToServer</span>;</div></dt><dd><div><p>Stores the clients that are currently connected to the server.</p></div></dd><dt><a href="server._T_C_P_Server.m_Current_Message_To_Send.html">mCurrentMessageToSend</a><div class="simplified-prototype" style="max-width: 31ch;"><tt class="highlighted"><span class="type">uint</span>[]</tt> <span class="name">mCurrentMessageToSend</span>;</div></dt><dd><div><p>Keeps track of the last message that was broadcast out to each client.</p></div></dd><dt><a href="server._T_C_P_Server.m_Listening_Socket.html">mListeningSocket</a><div class="simplified-prototype" style="max-width: 26ch;"><tt class="highlighted"><span class="hid">Socket</span></tt> <span class="name">mListeningSocket</span>;</div></dt><dd><div><p>The listening socket is responsible for handling new client connections.</p></div></dd><dt><a href="server._T_C_P_Server.m_Server_Data.html">mServerData</a><div class="simplified-prototype" style="max-width: 37ch;"><tt class="highlighted"><span class="type">char</span>[<span class="hid">Packet</span>.<span class="hid">sizeof</span>][]</tt> <span class="name">mServerData</span>;</div></dt><dd><div><p>Stores all of the data on the server. Ideally, we'll 
 use this to broadcast out to clients connected.</p></div></dd></dl><div></div></div>
		<div id="page-nav"><a class="parent" href="server.html">server</a> 
		<span class="type-separator">classes</span><ul><li><a class="class current" href="server._T_C_P_Server.html">TCPServer</a></li></ul></div>
	</div>
	<div id="page-footer">Page generated by <a href="https://github.com/adamdruppe/adrdox">adrdox</a></div>
</body>
</html>